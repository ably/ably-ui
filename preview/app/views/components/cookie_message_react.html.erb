<%= render(TitleComponent.new(react: true, vw: false)) do %>
  Cookie Message
<% end %>

<h2 class="text-h2 p-8">
  The cookie to suppress the message is currently <strong id="status">(loading ...)</strong>.
</h2>

<%= react_component('cookieMessage', {cookieId: "cookie-namespace", noticeId: "cookie-message"}) %>

<% content_for :component do %>
  <script type="text/javascript">
    document.addEventListener("DOMContentLoaded", () => {
      document.body.classList.add("bg-light-grey");
    });

    // Utility script to check cookie visibility
    const status = document.querySelector("#status");
    const text = /^cookie\-namespace/.test(document.cookie) ? "active" : "inactive";
    status.innerHTML = text;
  </script>
<% end %>

<!--
  The Hubspot chat widget below is for presentation only.
  This is to help to test overlapping on narrow viewports.
-->

<div width="32" height="30" class="rounded-full bg-charcoal-grey p-16 m-16 absolute bottom-0 right-0 inline-block">
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
       width="32" height="30" viewBox="0 0 39 37"
       class="conversations-visitor-open-icon">
      <g fill="#ffffff" transform="translate(7 -1)">
        <path fill="#ffffff" d="M30.594 4.773c-.314-1.943-1.486-3.113-3.374-3.38C27.174
            1.382 22.576.5 15.36.5c-7.214
            0-11.812.882-11.843.889-1.477.21-2.507.967-3.042
            2.192a83.103 83.103 0 019.312-.503c6.994 0 11.647.804
            12.33.93 3.079.462 5.22 2.598 5.738 5.728.224 1.02.932
            4.606.932 8.887 0 2.292-.206 4.395-.428 6.002 1.22-.516
            1.988-1.55 2.23-3.044.008-.037.893-3.814.893-8.415
            0-4.6-.885-8.377-.89-8.394">
        </path>
      </g>
      <g fill="#ffffff" transform="translate(0 5.832)">
        <path d="M31.354 4.473c-.314-1.944-1.487-3.114-3.374-3.382-.046-.01-4.644-.89-11.859-.89-7.214
            0-11.813.88-11.843.888-1.903.27-3.075 1.44-3.384
            3.363C.884 4.489 0 8.266 0 12.867c0 4.6.884 8.377.889
            8.393.314 1.944 1.486 3.114 3.374 3.382.037.007
            3.02.578 7.933.801l2.928 5.072a1.151 1.151 0 001.994
            0l2.929-5.071c4.913-.224 7.893-.794 7.918-.8 1.902-.27
            3.075-1.44 3.384-3.363.01-.037.893-3.814.893-8.414
            0-4.601-.884-8.378-.888-8.394">
        </path>
      </g>
  </svg>
</div>
