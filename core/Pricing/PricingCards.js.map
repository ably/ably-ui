{"version":3,"sources":["../../../src/core/Pricing/PricingCards.tsx"],"sourcesContent":["import React, { Fragment, useEffect, useRef, useState } from \"react\";\nimport { throttle } from \"es-toolkit/compat\";\nimport type { PricingDataFeature } from \"./types\";\nimport Icon from \"../Icon\";\nimport LinkButton from \"../LinkButton\";\nimport { IconName } from \"../Icon/types\";\nimport Tooltip from \"../Tooltip\";\nimport cn from \"../utils/cn\";\n\nexport type PricingCardsProps = {\n  data: PricingDataFeature[];\n  delimiter?: IconName | \"blank\";\n};\n\nconst PricingCards = ({ data, delimiter }: PricingCardsProps) => {\n  const descriptionsRef = useRef<(HTMLSpanElement | null)[]>([]);\n  const [descriptionHeight, setDescriptionHeight] = useState<number>(0);\n\n  useEffect(() => {\n    const determineMaxDescriptionHeight = throttle(() => {\n      if (descriptionsRef.current.length) {\n        setDescriptionHeight(\n          Math.max(\n            ...descriptionsRef.current.map(\n              (description) => description?.getBoundingClientRect().height ?? 0,\n            ),\n          ),\n        );\n      }\n    }, 100);\n\n    determineMaxDescriptionHeight();\n\n    window.addEventListener(\"resize\", determineMaxDescriptionHeight);\n\n    return () => {\n      window.removeEventListener(\"resize\", determineMaxDescriptionHeight);\n      determineMaxDescriptionHeight.cancel();\n    };\n  }, []);\n\n  const delimiterColumn = (index: number) =>\n    delimiter && index % 2 === 1 ? (\n      <div\n        className={cn(\"flex items-center justify-center w-full @[920px]:w-5\", {\n          \"m-2\": delimiter !== \"blank\",\n        })}\n      >\n        {delimiter !== \"blank\" ? (\n          <Icon\n            name={delimiter}\n            size=\"20px\"\n            additionalCSS={\"text-neutral-800 dark:text-neutral-500\"}\n          />\n        ) : null}\n      </div>\n    ) : null;\n\n  const gridRules = {\n    nonDelimited: \"grid @[552px]:grid-cols-2 @[1104px]:grid-cols-4\",\n    delimited: \"flex flex-col items-center @[920px]:flex-row\",\n  };\n\n  const borderClasses = (color?: \"neutral\" | \"blue\" | \"orange\") => {\n    const classes: Record<\n      string,\n      {\n        border: string;\n        bg: string;\n      }\n    > = {\n      neutral: {\n        border: \"border-neutral-600 dark:border-neutral-700\",\n        bg: \"bg-neutral-600 dark:bg-neutral-700\",\n      },\n      blue: {\n        border: \"border-blue-400 dark:border-blue-600\",\n        bg: \"bg-blue-400 dark:bg-blue-600\",\n      },\n      orange: {\n        border: \"border-orange-600 dark:border-orange-600\",\n        bg: \"bg-orange-600 dark:bg-orange-600\",\n      },\n    };\n\n    if (color && classes[color]) {\n      return classes[color];\n    }\n  };\n\n  return (\n    <div\n      className=\"@container flex justify-center\"\n      data-testid={\n        delimiter ? \"delimited-pricing-card-group\" : \"pricing-card-group\"\n      }\n    >\n      <div\n        className={cn(\n          \"gap-2\",\n          delimiter ? gridRules.delimited : gridRules.nonDelimited,\n        )}\n      >\n        {data.map(\n          (\n            { title, description, price, cta, sections, border, bottomCta },\n            index,\n          ) => (\n            <Fragment key={title.content}>\n              {delimiterColumn(index)}\n              <div\n                className={cn(\n                  \"relative border flex-1 px-6 pt-6 pb-4 flex flex-col gap-6 rounded-2xl group min-w-[17rem] backdrop-blur bg-neutral-100 dark:bg-neutral-1200\",\n                  borderClasses(border?.color)?.border ??\n                    \"border-neutral-200 dark:border-neutral-1100\",\n                  border?.style,\n                  { \"@[520px]:flex-row @[920px]:flex-col\": delimiter },\n                )}\n                data-testid={\n                  delimiter ? \"delimited-pricing-card\" : \"pricing-card\"\n                }\n              >\n                {border ? (\n                  <div\n                    className={cn(\n                      \"flex items-center absolute z-10 -top-3 self-center font-semibold uppercase text-neutral-000 font-sans h-6 text-[11px] px-2.5 py-0.5 rounded-2xl select-none tracking-widest\",\n                      borderClasses(border?.color)?.border,\n                      borderClasses(border?.color)?.bg,\n                    )}\n                  >\n                    {border.text}\n                  </div>\n                ) : null}\n                <div\n                  className={cn(`relative z-10 flex flex-col gap-4`, {\n                    \"@[520px]:flex-1 @[920px]:flex-none\": delimiter,\n                  })}\n                >\n                  <div>\n                    <div className=\"flex items-center mb-1\">\n                      <p className={cn(title.className, title.color)}>\n                        {title.content}\n                      </p>\n                      {title.tooltip ? (\n                        <Tooltip\n                          interactive={typeof title.tooltip !== \"string\"}\n                          iconSize=\"1.25rem\"\n                        >\n                          {title.tooltip}\n                        </Tooltip>\n                      ) : null}\n                    </div>\n                    <p\n                      className={cn(\n                        \"ui-text-h1 text-h1-xl h-5 block\",\n                        description.className,\n                        description.color,\n                      )}\n                      style={{ height: descriptionHeight }}\n                    >\n                      <span ref={(el) => (descriptionsRef.current[index] = el)}>\n                        {description.content}\n                      </span>\n                    </p>\n                  </div>\n                  <div\n                    className={cn(\"flex items-end gap-2\", {\n                      \"@[520px]:flex-col @[520px]:items-start @[920px]:flex-row @[920px]:items-end\":\n                        delimiter,\n                    })}\n                  >\n                    <p className=\"ui-text-h1 text-h1-xl font-medium tracking-tight leading-none text-neutral-1300 dark:text-neutral-000\">\n                      {price.amount}\n                    </p>\n                    <div className=\"ui-text-p3 text-neutral-1300 dark:text-neutral-000\">\n                      {price.content}\n                    </div>\n                  </div>\n                  {cta ? (\n                    <div className=\"group\">\n                      <LinkButton\n                        className={cn(\"w-full\", cta.className)}\n                        variant={cta.isPriority ? \"priority\" : \"primary\"}\n                        href={cta.url}\n                        onClick={cta.onClick}\n                        disabled={cta.disabled}\n                        rightIcon=\"icon-gui-arrow-right-outline\"\n                        iconColor={cta.iconColor}\n                      >\n                        {cta.text}\n                      </LinkButton>\n                    </div>\n                  ) : delimiter ? null : (\n                    <div className=\"flex items-center justify-center h-12 w-full\">\n                      <hr className=\"border-neutral-500 dark:border-neutral-800 w-16\" />\n                    </div>\n                  )}\n                </div>\n                <div className=\"flex flex-col gap-4 relative z-10 flex-grow\">\n                  {sections.map(({ title, items, listItemColors }) => (\n                    <div key={title} className=\"flex flex-col gap-3\">\n                      <p className=\"text-neutral-700 dark:text-neutral-600 font-mono uppercase text-overline2 font-medium tracking-[0.12em] h-4\">\n                        {title}\n                      </p>\n                      <div className={cn({ \"flex flex-col\": !delimiter })}>\n                        {items.map((item, index) =>\n                          Array.isArray(item) ? (\n                            <div\n                              key={item[0]}\n                              className={cn(\n                                \"flex justify-between gap-4 px-2 -mx-2\",\n                                index === 0 ? \"py-2\" : \"py-1\",\n                                index > 0 && index % 2 === 0\n                                  ? \"bg-blue-100 dark:bg-blue-900 rounded-md\"\n                                  : \"\",\n                              )}\n                            >\n                              {item.map((subItem, subIndex) => (\n                                <span\n                                  key={subItem}\n                                  className={cn(\n                                    \"ui-text-p3\",\n                                    index === 0 ? \"font-bold\" : \"font-medium\",\n                                    \"text-neutral-1000 dark:text-neutral-300 leading-[1.4rem]\",\n                                    subIndex % 2 === 1 ? \"text-right\" : \"\",\n                                  )}\n                                >\n                                  {subItem}\n                                </span>\n                              ))}\n                            </div>\n                          ) : (\n                            <div key={item} className=\"flex items-start gap-2\">\n                              {listItemColors ? (\n                                <Icon\n                                  name=\"icon-gui-check-circled-fill\"\n                                  color={listItemColors.background}\n                                  secondaryColor={listItemColors.foreground}\n                                  size=\"16px\"\n                                  additionalCSS=\"mt-1\"\n                                />\n                              ) : null}\n                              <div\n                                className={cn(\n                                  `flex-1 font-medium text-neutral-1000 dark:text-neutral-300 ui-text-p3`,\n                                )}\n                              >\n                                {item}\n                              </div>\n                            </div>\n                          ),\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n\n                {bottomCta && (\n                  <div>\n                    <div className=\"border-t border-neutral-200 dark:border-neutral-1100 -mx-6\"></div>\n                    <a\n                      href={bottomCta.url}\n                      className={cn(\n                        \"text-[13px] font-sans font-semibold group/bottom-cta cursor-pointer pt-4 flex items-center\",\n                        \"text-neutral-700 dark:text-neutral-600 hover:text-neutral-1300 dark:hover:text-neutral-000 focus:outline-none focus-visible:outline-gui-focus\",\n                      )}\n                    >\n                      {bottomCta.text}\n                      <Icon\n                        name=\"icon-gui-arrow-down-outline\"\n                        size=\"12px\"\n                        color={bottomCta.iconColor}\n                        additionalCSS={cn(\n                          \"align-middle ml-2 relative transition-[bottom] bottom-0 group-hover/bottom-cta:-bottom-0.5\",\n                        )}\n                      />\n                    </a>\n                  </div>\n                )}\n              </div>\n              {delimiterColumn(index)}\n            </Fragment>\n          ),\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default PricingCards;\n"],"names":["React","Fragment","useEffect","useRef","useState","throttle","Icon","LinkButton","Tooltip","cn","PricingCards","data","delimiter","descriptionsRef","descriptionHeight","setDescriptionHeight","determineMaxDescriptionHeight","current","length","Math","max","map","description","getBoundingClientRect","height","window","addEventListener","removeEventListener","cancel","delimiterColumn","index","div","className","name","size","additionalCSS","gridRules","nonDelimited","delimited","borderClasses","color","classes","neutral","border","bg","blue","orange","data-testid","title","price","cta","sections","bottomCta","key","content","style","text","p","tooltip","interactive","iconSize","span","ref","el","amount","variant","isPriority","href","url","onClick","disabled","rightIcon","iconColor","hr","items","listItemColors","item","Array","isArray","subItem","subIndex","background","secondaryColor","foreground","a"],"mappings":"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"}