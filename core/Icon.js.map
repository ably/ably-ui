{"version":3,"sources":["../../src/core/Icon.tsx"],"sourcesContent":["import React, { CSSProperties, useCallback, useId, useMemo } from \"react\";\n\nimport {\n  defaultIconSecondaryColor,\n  getHeroicon,\n  setUniqueIds,\n  toPascalCase,\n} from \"./Icon/utils\";\nimport * as IconComponents from \"./Icon/components\";\nimport { IconName, IconSize } from \"./Icon/types\";\nimport { ColorClass, ColorThemeSet } from \"./styles/colors/types\";\nimport { convertTailwindClassToVar } from \"./styles/colors/utils\";\nimport cn from \"./utils/cn\";\n\nexport type IconProps = {\n  name: IconName;\n  size?: IconSize;\n  color?: ColorClass | ColorThemeSet;\n  secondaryColor?: ColorClass | ColorThemeSet;\n  additionalCSS?: string;\n  variant?: \"outline\" | \"solid\" | \"micro\" | \"mini\";\n};\n\n// Helper function to get a heroicon component from the static map\nconst getHeroiconComponent = (\n  iconName: string,\n): React.ComponentType<React.SVGProps<SVGSVGElement>> | null => {\n  // Parse the icon name to extract heroicon name and variant\n  // Expected format: icon-gui-{heroicon-name}-{variant}\n  const match = iconName.match(/^icon-gui-(.+)-(outline|solid|mini|micro)$/);\n  if (!match) {\n    return null;\n  }\n\n  const [, heroiconName, variant] = match;\n  const component = getHeroicon(heroiconName, variant);\n  return component;\n};\n\nconst Icon = ({\n  name,\n  size = \"0.75rem\",\n  color,\n  secondaryColor,\n  additionalCSS = \"\",\n  variant,\n  ...additionalAttributes\n}: IconProps) => {\n  const uniqueId = useId();\n\n  const [lightSecondaryColor, darkSecondaryColor] = (\n    secondaryColor ?? \"\"\n  ).split(\" dark:\") as [ColorClass, ColorClass | undefined];\n\n  const iconName =\n    variant && !name.endsWith(`-${variant}`) ? `${name}-${variant}` : name;\n\n  // Get the local icon component (memoized)\n  const LocalIconComponent = useMemo(():\n    | React.ComponentType<React.SVGProps<SVGSVGElement>>\n    | undefined => {\n    return IconComponents[\n      toPascalCase(iconName) as keyof typeof IconComponents\n    ];\n  }, [iconName]);\n\n  // Get the heroicon component only if no local component is found (memoized)\n  const HeroiconComponent = useMemo(() => {\n    return LocalIconComponent ? null : getHeroiconComponent(iconName);\n  }, [LocalIconComponent, iconName]);\n\n  const setUniqueIdsRef = useCallback(\n    (el: SVGSVGElement | null) => {\n      setUniqueIds(el, uniqueId);\n    },\n    [uniqueId],\n  );\n\n  const iconSvg = useCallback(\n    (secondaryColor?: ColorClass, isDark?: boolean, isThemed?: boolean) => {\n      if (LocalIconComponent) {\n        let secondaryColorValue;\n        if (secondaryColor) {\n          secondaryColorValue = convertTailwindClassToVar(secondaryColor);\n        } else if (defaultIconSecondaryColor(name)) {\n          secondaryColorValue = convertTailwindClassToVar(\n            defaultIconSecondaryColor(name),\n          );\n        }\n\n        return (\n          <LocalIconComponent\n            className={cn(\n              { [`${color}`]: color },\n              { [`${additionalCSS}`]: additionalCSS },\n              {\n                \"hidden dark:block\": secondaryColor && !isDark && isThemed,\n              },\n              {\n                \"dark:hidden\": secondaryColor && isDark && isThemed,\n              },\n            )}\n            style={\n              {\n                width: size,\n                height: size,\n                ...(secondaryColorValue && {\n                  \"--ui-icon-secondary-color\": secondaryColorValue,\n                }),\n              } as CSSProperties\n            }\n            {...additionalAttributes}\n            ref={setUniqueIdsRef}\n          />\n        );\n      }\n\n      if (HeroiconComponent) {\n        return (\n          <HeroiconComponent\n            className={cn(\n              { [`${color}`]: color },\n              { [`${additionalCSS}`]: additionalCSS },\n            )}\n            style={{\n              width: size,\n              height: size,\n            }}\n            {...additionalAttributes}\n          />\n        );\n      }\n    },\n    [\n      LocalIconComponent,\n      HeroiconComponent,\n      name,\n      color,\n      additionalCSS,\n      size,\n      additionalAttributes,\n      setUniqueIdsRef,\n    ],\n  );\n\n  if (lightSecondaryColor && darkSecondaryColor) {\n    return (\n      <>\n        {iconSvg(lightSecondaryColor, false, !!darkSecondaryColor)}\n        {iconSvg(darkSecondaryColor, true, true)}\n      </>\n    );\n  } else if (lightSecondaryColor) {\n    return iconSvg(lightSecondaryColor, false, !!darkSecondaryColor);\n  } else {\n    return iconSvg();\n  }\n};\n\nexport default Icon;\n"],"names":["React","useCallback","useId","useMemo","defaultIconSecondaryColor","getHeroicon","setUniqueIds","toPascalCase","IconComponents","convertTailwindClassToVar","cn","getHeroiconComponent","iconName","match","heroiconName","variant","component","Icon","name","size","color","secondaryColor","additionalCSS","additionalAttributes","uniqueId","lightSecondaryColor","darkSecondaryColor","split","endsWith","LocalIconComponent","HeroiconComponent","setUniqueIdsRef","el","iconSvg","isDark","isThemed","secondaryColorValue","className","style","width","height","ref"],"mappings":"AAAA,OAAOA,OAAwBC,WAAW,CAAEC,KAAK,CAAEC,OAAO,KAAQ,OAAQ,AAE1E,QACEC,yBAAyB,CACzBC,WAAW,CACXC,YAAY,CACZC,YAAY,KACP,cAAe,AACtB,WAAYC,mBAAoB,mBAAoB,AAGpD,QAASC,yBAAyB,KAAQ,uBAAwB,AAClE,QAAOC,OAAQ,YAAa,CAY5B,MAAMC,qBAAuB,AAC3BC,WAIA,MAAMC,MAAQD,SAASC,KAAK,CAAC,8CAC7B,GAAI,CAACA,MAAO,CACV,OAAO,IACT,CAEA,KAAM,EAAGC,aAAcC,QAAQ,CAAGF,MAClC,MAAMG,UAAYX,YAAYS,aAAcC,SAC5C,OAAOC,SACT,EAEA,MAAMC,KAAO,CAAC,CACZC,IAAI,CACJC,KAAO,SAAS,CAChBC,KAAK,CACLC,cAAc,CACdC,cAAgB,EAAE,CAClBP,OAAO,CACP,GAAGQ,qBACO,IACV,MAAMC,SAAWtB,QAEjB,KAAM,CAACuB,oBAAqBC,mBAAmB,CAAG,AAChDL,CAAAA,gBAAkB,EAAC,EACnBM,KAAK,CAAC,UAER,MAAMf,SACJG,SAAW,CAACG,KAAKU,QAAQ,CAAC,CAAC,CAAC,EAAEb,QAAQ,CAAC,EAAI,CAAC,EAAEG,KAAK,CAAC,EAAEH,QAAQ,CAAC,CAAGG,KAGpE,MAAMW,mBAAqB1B,QAAQ,KAGjC,OAAOK,cAAc,CACnBD,aAAaK,UACd,AACH,EAAG,CAACA,SAAS,EAGb,MAAMkB,kBAAoB3B,QAAQ,KAChC,OAAO0B,mBAAqB,KAAOlB,qBAAqBC,SAC1D,EAAG,CAACiB,mBAAoBjB,SAAS,EAEjC,MAAMmB,gBAAkB9B,YACtB,AAAC+B,KACC1B,aAAa0B,GAAIR,SACnB,EACA,CAACA,SAAS,EAGZ,MAAMS,QAAUhC,YACd,CAACoB,eAA6Ba,OAAkBC,YAC9C,GAAIN,mBAAoB,CACtB,IAAIO,oBACJ,GAAIf,eAAgB,CAClBe,oBAAsB3B,0BAA0BY,eAClD,MAAO,GAAIjB,0BAA0Bc,MAAO,CAC1CkB,oBAAsB3B,0BACpBL,0BAA0Bc,MAE9B,CAEA,OACE,oBAACW,oBACCQ,UAAW3B,GACT,CAAE,CAAC,CAAC,EAAEU,MAAM,CAAC,CAAC,CAAEA,KAAM,EACtB,CAAE,CAAC,CAAC,EAAEE,cAAc,CAAC,CAAC,CAAEA,aAAc,EACtC,CACE,oBAAqBD,gBAAkB,CAACa,QAAUC,QACpD,EACA,CACE,cAAed,gBAAkBa,QAAUC,QAC7C,GAEFG,MACE,CACEC,MAAOpB,KACPqB,OAAQrB,KACR,GAAIiB,qBAAuB,CACzB,4BAA6BA,mBAC/B,CAAC,AACH,EAED,GAAGb,oBAAoB,CACxBkB,IAAKV,iBAGX,CAEA,GAAID,kBAAmB,CACrB,OACE,oBAACA,mBACCO,UAAW3B,GACT,CAAE,CAAC,CAAC,EAAEU,MAAM,CAAC,CAAC,CAAEA,KAAM,EACtB,CAAE,CAAC,CAAC,EAAEE,cAAc,CAAC,CAAC,CAAEA,aAAc,GAExCgB,MAAO,CACLC,MAAOpB,KACPqB,OAAQrB,IACV,EACC,GAAGI,oBAAoB,EAG9B,CACF,EACA,CACEM,mBACAC,kBACAZ,KACAE,MACAE,cACAH,KACAI,qBACAQ,gBACD,EAGH,GAAIN,qBAAuBC,mBAAoB,CAC7C,OACE,wCACGO,QAAQR,oBAAqB,MAAO,CAAC,CAACC,oBACtCO,QAAQP,mBAAoB,KAAM,MAGzC,MAAO,GAAID,oBAAqB,CAC9B,OAAOQ,QAAQR,oBAAqB,MAAO,CAAC,CAACC,mBAC/C,KAAO,CACL,OAAOO,SACT,CACF,CAEA,gBAAehB,IAAK"}