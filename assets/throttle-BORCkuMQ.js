function y(r,a,{signal:l,edges:t}={}){let i,u=null;const s=t!=null&&t.includes("leading"),c=t==null||t.includes("trailing"),e=()=>{u!==null&&(r.apply(i,u),i=void 0,u=null)},o=()=>{c&&e(),p()};let n=null;const f=()=>{n!=null&&clearTimeout(n),n=setTimeout(()=>{n=null,o()},a)},d=()=>{n!==null&&(clearTimeout(n),n=null)},p=()=>{d(),i=void 0,u=null},g=()=>{e()},h=function(...b){if(l?.aborted)return;i=this,u=b;const m=n==null;f(),s&&m&&e()};return h.schedule=f,h.cancel=p,h.flush=g,l?.addEventListener("abort",p,{once:!0}),h}function T(r,a=0,l={}){typeof l!="object"&&(l={});const{leading:t=!1,trailing:i=!0,maxWait:u}=l,s=Array(2);t&&(s[0]="leading"),i&&(s[1]="trailing");let c,e=null;const o=y(function(...d){c=r.apply(this,d),e=null},a,{edges:s}),n=function(...d){return u!=null&&(e===null&&(e=Date.now()),Date.now()-e>=u)?(c=r.apply(this,d),e=Date.now(),o.cancel(),o.schedule(),c):(o.apply(this,d),c)},f=()=>(o.flush(),c);return n.cancel=o.cancel,n.flush=f,n}function w(r,a=0,l={}){const{leading:t=!0,trailing:i=!0}=l;return T(r,a,{leading:t,maxWait:a,trailing:i})}export{w as t};
