import{j as n}from"./jsx-runtime-CZ2sIMGp.js";import{r as m}from"./iframe-uAgQpGx3.js";import{p as y}from"./Flash-bHRQcl5x.js";import{I as b}from"./Icon-CQE5WZJ9.js";import{c as f}from"./cn-Dw6GJglA.js";import{N as k}from"./component-CdDaL9tg.js";const C=a=>{m.useEffect(()=>{const o=a.current;if(!o)return;const d=u=>{if(!(u.target instanceof HTMLElement))return;const s=u.target.closest("a[data-method]");if(!s||!o.contains(s))return;u.preventDefault();const l=s.dataset.method?.toLowerCase()??"get",i=s.getAttribute("href");if(!i){console.warn("Rails UJS link has no href attribute");return}if(l!=="post"&&l!=="delete")return;const p=document.querySelector('meta[name="csrf-param"]')?.content,c=document.querySelector('meta[name="csrf-token"]')?.content,t=document.createElement("form");if(t.method="POST",t.action=i,t.style.display="none",p&&c){const e=document.createElement("input");e.type="hidden",e.name=p,e.value=c,t.appendChild(e)}else console.warn("No CSRF token found in document");if(l!=="post"){const e=document.createElement("input");e.type="hidden",e.name="_method",e.value=l,t.appendChild(e)}document.body.appendChild(t),t.submit()};return o.addEventListener("click",d),()=>o.removeEventListener("click",d)},[a])},I="text-neutral-1300 dark:text-neutral-000",E="w-full pr-2 ui-text-p4 self-center",x=({buttonLink:a,buttonLabel:o,bodyText:d,title:u,config:r,closeBtn:s,bgColor:l="bg-orange-100 dark:bg-orange-1100",textColor:i=I,onClose:p})=>{const c=m.useRef(null),[t,e]=m.useState(!1);C(c),m.useEffect(()=>k({bannerContainer:document.querySelector('[data-id="ui-notice"]'),cookieId:r?.cookieId,noticeId:r?.noticeId,options:{collapse:r?.options?.collapse||!1}}),[r?.cookieId,r?.noticeId,r?.options?.collapse]);const g=y.sanitize(d??"",{ALLOWED_TAGS:["a"],ALLOWED_ATTR:["href","data-method"],ALLOWED_URI_REGEXP:/^\/[^/]/}),h=typeof a=="string"&&(/^\/(?!\/)/.test(a)||/^https?:\/\//.test(a));return n.jsx("div",{className:f("ui-announcement relative z-[60]",t?"ui-announcement-hidden max-h-0 -translate-y-full opacity-0 overflow-hidden":"ui-announcement-visible",l,i),"data-id":"ui-notice",children:n.jsxs("div",{className:"ui-grid-px py-4 max-w-screen-xl mx-auto flex items-start",children:[n.jsxs("div",{className:f(E,i),children:[n.jsx("strong",{className:"font-bold whitespace-nowrap pr-1",children:u}),n.jsx("span",{ref:c,className:"pr-1",dangerouslySetInnerHTML:{__html:g}}),o&&(h?n.jsx("a",{href:a,className:"focus-base transition-colors cursor-pointer whitespace-nowrap text-gui-blue-default-light dark:text-gui-blue-default-dark",children:o}):n.jsx("span",{className:"focus-base transition-colors cursor-pointer whitespace-nowrap text-gui-blue-default-light dark:text-gui-blue-default-dark",children:o}))]}),s&&n.jsx("button",{type:"button",className:"ml-auto h-5 w-5 border-none bg-none self-baseline outline-none focus:outline-none focus:ring-0 focus:border-transparent",onClick:()=>{e(!0),setTimeout(()=>{document.dispatchEvent(new CustomEvent("notice-closed")),p?.()},300)},children:n.jsx(b,{name:"icon-gui-x-mark-outline",size:"1.25rem",color:i})})]})})};try{x.displayName="Notice",x.__docgenInfo={description:"",displayName:"Notice",props:{buttonLink:{defaultValue:null,description:"",name:"buttonLink",required:!1,type:{name:"string"}},buttonLabel:{defaultValue:null,description:"",name:"buttonLabel",required:!1,type:{name:"string"}},bodyText:{defaultValue:null,description:"",name:"bodyText",required:!1,type:{name:"string"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},closeBtn:{defaultValue:null,description:"",name:"closeBtn",required:!1,type:{name:"boolean"}},config:{defaultValue:null,description:"",name:"config",required:!1,type:{name:"{ options: { collapse: boolean; }; noticeId: string | number; cookieId: string; }"}},bgColor:{defaultValue:{value:"bg-orange-100 dark:bg-orange-1100"},description:"",name:"bgColor",required:!1,type:{name:"string"}},textColor:{defaultValue:{value:"text-neutral-1300 dark:text-neutral-000"},description:"",name:"textColor",required:!1,type:{name:'"text-transparent" | "text-neutral-000" | "text-neutral-100" | "text-neutral-200" | "text-neutral-300" | "text-neutral-400" | "text-neutral-500" | "text-neutral-600" | "text-neutral-700" | ... 1042 more ...'}},onClose:{defaultValue:null,description:"",name:"onClose",required:!1,type:{name:"(() => void)"}},bannerContainer:{defaultValue:null,description:"",name:"bannerContainer",required:!1,type:{name:"Element | null"}},cookieId:{defaultValue:null,description:"",name:"cookieId",required:!1,type:{name:"string"}},noticeId:{defaultValue:null,description:"",name:"noticeId",required:!1,type:{name:"string"}},options:{defaultValue:null,description:"",name:"options",required:!1,type:{name:"{ collapse: boolean; }"}}}}}catch{}export{x as N};
