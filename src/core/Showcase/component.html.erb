<section
  aria-roledescription="carousel"
  aria-label="Ably customers showcase"
  aria-live="off"
  class="font-sans antialiased rounded-sm shadow-container-subtle"
  data-id="showcase"
>
  <div class="ui-showcase-overflow-container">
    <ol class="ui-showcase-logo-wrapper" data-id="showcase-controls">
      <% @companies.each_with_index do |company, index| %>
        <li class="ui-showcase-logo">
          <%= tag.button class: ['focus:outline-gui-focus', 'border-none', 'p-0', 'transition-filter'],
                         type: 'button',
                         data: { id: 'showcase-control' },
                         aria: { controls: @random_id } do %>
            <%= image_tag company[:logo], alt: "#{company[:name]} logo", class: ['ui-showcase-logo-img', index === 0 ? 'filter-none' : 'filter-grayscale', 'hover:filter-none'], srcset: [["#{company[:logo2x]}", "2x"]] %>
          <% end %>
        </li>
      <% end %>
    </ol>

    <div class="ui-showcase-index-bar">
      <div data-id="showcase-index-bar" class="transform transition-transform w-1/3 h-4 bg-active-orange relative"></div>
    </div>
  </div>

  <div class="overflow-x-hidden">
    <ol class="flex transform transition-transform" data-id="showcase-slides" id="<%= @random_id %>">
      <% @companies.each_with_index do |company, index| %>
        <li
          class="w-full flex-shrink-0 p-24 sm:p-32 xl:p-40 bg-white"
          role="group"
          aria-roledescription="slide"
          aria-label="<%= index + 1 %> of <%= @companies.length %>"
        >
          <svg class="block mb-16 w-24 h-20">
            <use xlink:href="#sprite-quote"></use>
          </svg>

          <p class="text-quote font-light mb-24"><%= company[:quote] %></p>

          <div class="flex items-center">
            <div class="flex-shrink-0 flex-grow-0 mr-16 overflow-hidden rounded-full flex align-center justify-center w-48 h-48" style="border-radius: 50%">
              <%= image_tag company[:author][:thumbnail], alt: "Picture of #{company[:author][:name]}, #{company[:author][:title]}", class: "w-48 h-48 filter-grayscale" %>
            </div>
            <div>
              <p class="text-p2 font-medium"><%= company[:author][:name] %></p>
              <p class="text-p3 font-light"><%= company[:author][:title] %></p>
            </div>
          </div>
        </li>
      <% end %>
    </ol>
  </div>
</section>
